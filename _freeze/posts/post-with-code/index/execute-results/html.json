{
  "hash": "149e0014497f56dca33aa3bd319eabbc",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Explorando Netflix\"\nsubtitle: \"Explorando que hay detras de Netflix\"\nauthor: \"Guille Ferchero\"\ndate: \"2024-03-16\"\ncategories: [cultura]\nimage: \"images.jpg\"\nformat: \n  html:\n    toc: true #arma menu\n    code-fold: true #oculta el codigo\n    code-summary: \"Ver código\" #leyenda para mostrar codigo\n---\n\n\n## **Explorando Netflix**\n\n![](netflix-logo.jpg)\n\nA continuación veremos algunas técnicas de análisis exploratorio utilizando un dataset muy intersante que contiene productos de Netflix con sus respectivas variables. El dataset puede encontrarse en el [sitio](https://www.kaggle.com/shivamb/netflix-shows) de kaggle.\n\nVamos a trabajar con las librerías [tidyverse](https://www.tidyverse.org/) , [lubridate](https://lubridate.tidyverse.org/) y [kableExtra](https://haozhu233.github.io/kableExtra/)\n\n\n\n\n\n\n# Limpieza y creación de objetos auxiliares\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Limpiamos columnas\n\nBase$rating <- as.factor(Base$rating)\nBase$date_added <- mdy(Base$date_added)\nBase$Año <- year(Base$date_added)\nBase$show_id <- NULL\n\n#generamos objetos auxiliares para texto dinámico\n\nDesde <- Base %>% \n  select(date_added) %>% \n  arrange(date_added) %>% \n  head(1) %>% \n  pull()\n\nHasta <- Base %>% \n  select(date_added) %>% \n  arrange(desc(date_added)) %>% \n  head(1) %>% \n  pull()\n\ncantidad <- nrow(Base)\n```\n:::\n\n\nLa Base contiene 7787 productos de Netflix emitidos desde 2008-01-01 hasta 2021-01-16. Veamos como es la distribución por el tipo de show.\n\n# Series vs Películas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTabla_1 <- Base %>% \n  select(type) %>% \n  group_by(type) %>% \n  summarise(Total = n()) %>% \n  mutate(Porcentaje = round(Total/sum(Total)*100,2)) %>% \n  mutate(Etiqueta = paste0(Total, \" ( % \", Porcentaje, \")\"))\n\nggplot(Tabla_1, aes(x = \"\" , y = Total, fill = type ))+\n  geom_bar(stat = \"identity\", width = 0.5)+\n  geom_text(aes(label = Etiqueta), position = position_stack(vjust = 0.5))+\n  scale_fill_manual(values = c(\"#f55951\", \"#f1e8e6\"))+\n    labs(title = paste0(\"Dataset Netflix \",Desde, \" - \", Hasta),\n       subtitle = \"Tipos de Productos\",\n       caption = \"Fuente: Kaggle\",\n       x = \"\",\n       y = \"\")+\n  theme_minimal()+\n  theme(text = element_text(color = \"grey20\"),\n        plot.title = element_text(hjust = 0.5, vjust = 0.5),\n        plot.subtitle = element_text( hjust = 0.5, vjust = 0.5),\n        legend.position = \"bottom\",\n        legend.title = element_blank())+\n  guides(fill = guide_legend(reverse = TRUE))+\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nPuede verse que la proporción mayoritaria está compuesta por películas. Veamos como  fue la evolución de esta segmentación.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTabla_2 <- Base %>% \n  select(Año,type) %>%\n  filter(!is.na(Año)) %>%\n  filter(Año %in% c(2017:2020)) %>%\n  group_by(Año,type) %>% \n  summarise(Total = n()) %>% \n  mutate(Porcentaje = round(Total/sum(Total)*100,2)) %>% \n  mutate(Etiqueta = paste0(Total, \" ( % \", Porcentaje, \")\"))\n\n\nTablaaux <- Tabla_2 %>% \n  select(Año) %>% \n  filter(!duplicated(Año))\n\nfilas <- nrow(Tablaaux)\n\nggplot(Tabla_2, aes(x = \"\" , y = Total, fill = type ))+\n  geom_bar(stat = \"identity\", width = 1)+\n  geom_text(aes(label = Etiqueta), position = position_stack(vjust = 0.5), size =2.5)+\n  scale_fill_manual(values = c(\"#f55951\", \"#f1e8e6\"))+\n    labs(title = paste0(\"Dataset Netflix \",Desde, \" - \", Hasta),\n       subtitle = \"Tipos de Productos\",\n       caption = \"Fuente: Kaggle\",\n       x = \"\",\n       y = \"\")+\n  theme_minimal()+\n  theme(plot.title = element_text(hjust = 0.5, vjust = 0.5),\n        plot.subtitle = element_text( hjust = 0.5, vjust = 0.5),\n        legend.position = \"bottom\",\n        legend.title = element_blank())+\n  guides(fill = guide_legend(reverse = TRUE))+\n  coord_flip()+\n  facet_wrap(~Año, nrow = filas)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}